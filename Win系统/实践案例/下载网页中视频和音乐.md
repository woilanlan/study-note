# 下载网页中视频和音乐

1、首先复制微信文章的链接在浏览器中打开

2、按F12打开开发者工具，选择“网络”选项卡

3、在过滤URL这一行选择媒体，勾选持续日志，Ctrl+F5刷新当前页面,点击播放音频或视频

4、若没有任何数据，先选择“所有”，在所有请求中，查看触发源头为media,类型为mp4,或者在筛选中输入mp4进行筛选。

5、可能有广告，找到最后一个或者文件最大的那个请求，右键复制网址。

6、在新标签页打开，就会看到你想要下载的视频，右键另存为，输入文件名称，保存到本地。

## 视频并不是一个完整的文件（多个ts文件下载）

待优化：考虑如何写一个程序实现文件的下载。

可以使用迅雷的批量下载功能。如：

<http://www.baidu.com/abc001.ts>

如果文件名是从两位数变化到三位数，可以使用excle填出前两个地址，然后使用自动填充，再将对应的地址填入，使用迅雷分组下载。

## 多个文件的重命名和合并

在当前目录打开cmd控制台：Win + R ，输入cmd回车

### 1、文件的合并

```bat
copy  /b  E:\temps\*.ts  E:\temps\new.ts

F:\one>copy /b 0.ts+1.ts f:\one\test.ts
```

直接用*号，合并的顺序会乱。所以要对多个文件按照顺序进行重命名。

### 2、给多个文件重命名

```bat
F:\one>dir /b>rename.txt
F:\one>dir /b>rename.xls
```

截取名称中的数字，剔除其余部分。

在数据库中建了一个表，根据需要截取对应的数字，放入表格

```sql
select substr(names,1,3) from qiye where substr(names,1,1) = '0'
```

然后借助表格生成对应的语句：

```sql
="ren "&A1&" "&B1&".ts"
```

新建一个rename.bat文件，粘贴生成的语句：

```bat
ren 00_s0676waznmy3210021.ts 0.ts
ren 010_s0676waznmy3210021.ts 10.ts
ren 011_s0676waznmy3210021.ts 11.ts
```

然后使用PowerShell生成对应字符串，也可以使用文本把换行替换为”+“号

```shell
$code="0.ts"
for($i=1;$i -le 27;$i++){
    $code+="+$i.ts"
}
$code
```
